{% extends "catalog/base.html" %}

{% block content %}
<div class="content">
    <h1>Merge Recovery</h1>
    {% if empty %}
        <div class="empty-state">
            <p>No pending recoveries.</p>
            <a href="/" class="btn btn-primary" style="margin-top: 1rem;">Return to catalog</a>
        </div>
    {% else %}
        <p style="margin-bottom: 1rem; color: #64748b; font-size: 0.85rem;">
            {{ entries|length }} item{{ entries|length|pluralize }} failed during merge. Check server state, retry, or skip each item.
        </p>
        <table class="recovery-table">
            <thead>
                <tr>
                    <th>Item ID</th>
                    <th>Lot #</th>
                    <th>Operation</th>
                    <th>Error</th>
                    <th>Status</th>
                    <th>Actions</th>
                </tr>
            </thead>
            <tbody id="recovery-body">
                {% for entry in entries %}
                    {% include "catalog/partials/recovery_row.html" %}
                {% endfor %}
            </tbody>
        </table>
    {% endif %}
</div>
{% endblock %}
